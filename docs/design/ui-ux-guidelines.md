# UI/UX Design Guidelines

**LabCore LIMS** | Design Document | February 2025

---

## 1. Design Principles

Every design decision at LabCore follows these five principles, ordered by priority.

### 1.1 Speed First

Lab staff process 50--150 patients per day. Every second saved per interaction compounds into hours saved daily. Design for minimal clicks, fast page loads, and keyboard-first workflows.

Targets:

- Patient registration: < 2 minutes (including test ordering)
- Result entry per test: < 1 minute
- Report generation + WhatsApp send: < 30 seconds
- Any page load: < 2 seconds

### 1.2 Radical Simplicity

Our primary user (Persona 1: Dr. Suresh, 52-year-old pathologist) types with two fingers and has never used a LIMS before. If a screen requires explanation, it is too complex. Every feature must be self-explanatory.

Rules:

- No feature is more than 2 clicks from the home screen
- No screen has more than one primary action
- Modals and popups are avoided; use inline forms and contextual panels
- Progressive disclosure: advanced options hidden behind "More" or "Settings" -- never cluttering the default view

### 1.3 Clarity Over Cleverness

Use plain language everywhere. No jargon, no abbreviations without explanation, no ambiguous icons without labels.

Rules:

- Every button has a text label (not just an icon)
- Status badges use colour AND text (accessible to colourblind users)
- Error messages explain what went wrong and what to do next
- Confirmations for destructive actions (cancel order, reject sample)

### 1.4 Mobile-Aware, Desktop-Primary

Lab workstations are desktops or laptops. The primary UI is optimised for 1024px+ screens with keyboard and mouse. Mobile views (360px+) are used by phlebotomists, lab owners checking dashboards on their phones, and front desk staff on tablets.

Rules:

- Desktop-first design; responsive down to 360px
- Touch targets: minimum 44x44px on mobile
- No hover-only interactions (must work on touch)
- Critical workflows (registration, result entry, authorisation) fully functional on desktop; dashboard and report delivery functional on mobile

### 1.5 Trustworthy and Professional

LabCore handles medical data. The UI must look professional, clinical, and trustworthy -- not playful or trendy.

Rules:

- Clean, white-background layouts with controlled use of colour
- No emojis, no casual language in the application (documentation may use them)
- Data-dense screens are acceptable when the density serves the user (worklists, result entry)
- Reports generated by LabCore must look as professional as those from any national chain lab

---

## 2. Colour Palette

### 2.1 Primary Colours


| Colour             | Hex       | Usage                                                                    |
| ------------------ | --------- | ------------------------------------------------------------------------ |
| Primary Blue       | `#1E40AF` | Primary actions (buttons, links, active states), navigation bar, headers |
| Primary Blue Light | `#3B82F6` | Hover states, secondary highlights                                       |
| Primary Blue Pale  | `#EFF6FF` | Selected row backgrounds, info banners                                   |


### 2.2 Semantic Colours


| Colour        | Hex       | Usage                                                              |
| ------------- | --------- | ------------------------------------------------------------------ |
| Success Green | `#16A34A` | Completed status, normal results, successful actions               |
| Warning Amber | `#D97706` | Urgent priority, pending actions, approaching deadlines            |
| Danger Red    | `#DC2626` | Critical/abnormal results, errors, rejected samples, STAT priority |
| Info Blue     | `#2563EB` | Informational messages, links                                      |


### 2.3 Neutrals


| Colour         | Hex       | Usage                                    |
| -------------- | --------- | ---------------------------------------- |
| Background     | `#FFFFFF` | Page background                          |
| Surface        | `#F9FAFB` | Card backgrounds, table alternating rows |
| Border         | `#E5E7EB` | Borders, dividers                        |
| Text Primary   | `#111827` | Headings, body text                      |
| Text Secondary | `#6B7280` | Labels, captions, secondary information  |
| Text Disabled  | `#9CA3AF` | Disabled fields, placeholders            |


### 2.4 Result Flag Colours


| Flag               | Background        | Text      | Usage                                        |
| ------------------ | ----------------- | --------- | -------------------------------------------- |
| Normal             | -- (no highlight) | `#111827` | Within reference range                       |
| Low (L)            | `#FEF3C7`         | `#92400E` | Below reference range                        |
| High (H)           | `#FEE2E2`         | `#991B1B` | Above reference range                        |
| Critical Low (CL)  | `#DC2626`         | `#FFFFFF` | Below critical threshold (white text on red) |
| Critical High (CH) | `#DC2626`         | `#FFFFFF` | Above critical threshold (white text on red) |


---

## 3. Typography

### 3.1 Font Family


| Use                    | Font                | Fallback                             |
| ---------------------- | ------------------- | ------------------------------------ |
| UI (English)           | Inter               | system-ui, -apple-system, sans-serif |
| UI (Malayalam)         | Noto Sans Malayalam | sans-serif                           |
| Reports (body)         | Inter               | sans-serif                           |
| Reports (heading)      | Inter Semibold      | sans-serif                           |
| Monospace (codes, IDs) | JetBrains Mono      | monospace                            |


**Why Inter?** Free, open-source, excellent legibility at small sizes, comprehensive character set, variable font support for optimised loading.

**Why Noto Sans Malayalam?** Google's Noto font family provides high-quality Malayalam rendering, free to use, consistent with the Noto design language.

### 3.2 Font Sizes (Scale)


| Level      | Size             | Weight | Line Height | Usage                           |
| ---------- | ---------------- | ------ | ----------- | ------------------------------- |
| Display    | 30px / 1.875rem  | 700    | 1.2         | Dashboard large numbers         |
| H1         | 24px / 1.5rem    | 600    | 1.3         | Page titles                     |
| H2         | 20px / 1.25rem   | 600    | 1.3         | Section headings                |
| H3         | 16px / 1rem      | 600    | 1.4         | Card titles, sub-sections       |
| Body       | 14px / 0.875rem  | 400    | 1.5         | Default body text               |
| Body Small | 13px / 0.8125rem | 400    | 1.5         | Table cells, secondary info     |
| Caption    | 12px / 0.75rem   | 400    | 1.4         | Labels, timestamps, helper text |
| Overline   | 11px / 0.6875rem | 500    | 1.5         | Category labels, all-caps text  |


**Minimum font size**: 12px. No text in the application UI smaller than 12px (accessibility).

---

## 4. Component Library Approach

### 4.1 Strategy

LabCore uses a custom component library built on top of:

- **Radix UI primitives** for accessible, unstyled interactive components (dialogs, dropdowns, tabs, tooltips)
- **Tailwind CSS** for styling all components
- **React Hook Form** for form state management
- **Zod** for form validation schemas (shared with backend)

### 4.2 Core Components


| Component      | Description                                            | Key Props                                  |
| -------------- | ------------------------------------------------------ | ------------------------------------------ |
| `Button`       | Primary, secondary, danger, ghost variants             | `variant`, `size`, `loading`, `disabled`   |
| `Input`        | Text, number, phone, email, with label and error state | `label`, `error`, `required`, `type`       |
| `Select`       | Searchable dropdown with auto-complete                 | `options`, `searchable`, `multi`           |
| `DatePicker`   | Date selection with calendar popup                     | `value`, `min`, `max`                      |
| `Table`        | Sortable, filterable data table with pagination        | `columns`, `data`, `sortable`, `paginated` |
| `Badge`        | Status badges with colour and text                     | `variant` (success, warning, danger, info) |
| `Card`         | Container with optional title and actions              | `title`, `actions`                         |
| `Modal`        | Accessible dialog for confirmations and short forms    | `title`, `onConfirm`, `onCancel`           |
| `Toast`        | Non-blocking notification                              | `message`, `type` (success, error, info)   |
| `Sidebar`      | Main navigation sidebar                                | `items`, `activeItem`                      |
| `DataList`     | Label-value pair list for detail views                 | `items`                                    |
| `BarcodeLabel` | Barcode/QR rendering component for print               | `data`, `type` (barcode, qr)               |


### 4.3 Form Patterns


| Pattern         | When to Use                                                 |
| --------------- | ----------------------------------------------------------- |
| Inline form     | Quick edits (changing a patient's phone number)             |
| Full-page form  | Complex creation (patient registration with test ordering)  |
| Step wizard     | Multi-step processes (lab onboarding setup)                 |
| Search + select | Choosing from a large list (test selection, patient lookup) |


---

## 5. Localization Guidelines

### 5.1 Supported Languages (MVP)


| Language  | Code | Script    | Direction | Coverage                                 |
| --------- | ---- | --------- | --------- | ---------------------------------------- |
| English   | `en` | Latin     | LTR       | Full UI + reports                        |
| Malayalam | `ml` | Malayalam | LTR       | Full UI + patient-facing report sections |


### 5.2 Implementation

- **Framework**: `next-intl` for frontend, `nestjs-i18n` for backend
- **Translation files**: JSON files per language (`en.json`, `ml.json`) organised by module
- **Key naming**: Dot-notated hierarchical keys (e.g., `patient.registration.title`, `result.entry.save_button`)
- **Date/time format**: DD/MM/YYYY (Indian standard) with locale-aware formatting
- **Number format**: Indian numbering system (1,00,000 not 100,000) via `Intl.NumberFormat('en-IN')`
- **Currency**: INR with Indian formatting (e.g., INR 1,50,000)

### 5.3 Translation Rules

- Medical/scientific terms remain in English even in Malayalam UI (e.g., "Haemoglobin", "CBC", "LFT") -- this is standard practice in Indian medical contexts
- Patient-facing text (report headers, interpretive notes, WhatsApp messages) is translated to Malayalam
- Internal technical labels (database field names, API keys) are always in English
- Placeholder text and form labels are translated
- Error messages are translated

### 5.4 Future Languages (Phase 2--3)


| Language | Code | Priority         |
| -------- | ---- | ---------------- |
| Hindi    | `hi` | High (Phase 2)   |
| Tamil    | `ta` | Medium (Phase 2) |
| Kannada  | `kn` | Medium (Phase 3) |
| Telugu   | `te` | Low (Phase 3)    |


---

## 6. Accessibility Standards

### 6.1 Target: WCAG 2.1 Level AA


| Criterion                  | Requirement                                             | Implementation                                                                         |
| -------------------------- | ------------------------------------------------------- | -------------------------------------------------------------------------------------- |
| 1.4.3 Contrast             | Text contrast ratio >= 4.5:1; large text >= 3:1         | Colour palette designed to meet AA; automated checks in CI                             |
| 1.4.4 Resize               | Text resizable up to 200% without loss of functionality | Relative units (rem) throughout; layout uses CSS Grid/Flexbox that reflows             |
| 2.1.1 Keyboard             | All functionality operable via keyboard                 | Tab order follows visual order; focus indicators visible; Enter/Space activate buttons |
| 2.4.7 Focus Visible        | Visible focus indicator on interactive elements         | Custom focus ring: 2px solid `#3B82F6` with 2px offset                                 |
| 3.3.1 Error Identification | Errors identified and described in text                 | Form errors displayed below the field in red text with specific message                |
| 4.1.2 Name, Role, Value    | ARIA labels on custom components                        | Radix UI provides built-in ARIA; custom components manually labelled                   |


### 6.2 Keyboard Shortcuts


| Shortcut    | Action                       | Context           |
| ----------- | ---------------------------- | ----------------- |
| `Ctrl+N`    | New patient registration     | Global            |
| `Ctrl+F`    | Focus search bar             | Global            |
| `Tab`       | Move to next field           | Forms             |
| `Shift+Tab` | Move to previous field       | Forms             |
| `Enter`     | Submit form / confirm action | Forms, dialogs    |
| `Escape`    | Close modal / cancel action  | Modals, dropdowns |
| `Ctrl+S`    | Save current form            | Result entry      |
| `Ctrl+P`    | Print current view           | Reports           |


---

## 7. Key Screen Descriptions

### 7.1 Dashboard (Home Screen)

**Layout**: Full-width, card-based layout.

**Top bar**: Lab name, user name + role, language toggle, notifications bell, logout.

**Content area** (3 rows):

1. **Summary cards** (4 cards in a row): Today's patients, Today's tests, Reports pending, Revenue collected. Each card shows the count/amount in large Display text with a small comparison to yesterday.
2. **Pending work panel**: Tabs for "Awaiting Collection", "Awaiting Results", "Awaiting Authorisation", "Awaiting Delivery". Each tab shows a scrollable table with patient name, test, time elapsed, priority badge. Clicking a row navigates to the relevant action screen.
3. **Quick actions**: Large, labelled buttons: "Register Patient", "Enter Results", "View Reports". Designed for one-tap access to the most common tasks.

### 7.2 Patient Registration

**Layout**: Full-page form, single column (max-width 640px), centred.

**Sections**:

1. **Patient lookup**: Search bar at the top. Type name, mobile, or Patient ID. Matching patients appear in a dropdown; selecting one auto-fills the form.
2. **Demographics**: Name, Age (with DOB option), Gender (radio buttons), Mobile (mandatory), Email, Address. Malayalam name field (optional).
3. **Test ordering**: Searchable multi-select. Type to search tests; results appear instantly. Select tests individually or select panels. Selected tests listed with prices.
4. **Summary**: Subtotal, discount (if applied), GST, total. Primary button: "Register & Bill" (green, full width).

### 7.3 Worklist / Sample Tracking

**Layout**: Full-width table with filter bar.

**Filter bar**: Date range, status filter (chips: All, Ordered, Collected, Received, In Process, Completed), department filter, priority filter, search box.

**Table columns**: Sample ID (barcode icon), Patient Name, Test(s), Status (coloured badge), Priority (badge), Time Elapsed, Collector, Actions (Collect / Receive / Enter Results -- contextual based on status).

**Barcode scanner**: Focus on the search box and scan a barcode to instantly filter to that sample.

### 7.4 Result Entry

**Layout**: Split view -- patient info panel on the left (narrow, 300px), result entry form on the right (remaining width).

**Left panel**: Patient name, age, gender, Patient ID, referring doctor, previous results for the same test (if any, shown in a mini-table for delta comparison).

**Right panel**: Test name as heading. Parameter list in a table format:

- Column 1: Parameter name (e.g., "Haemoglobin")
- Column 2: Input field (auto-focused, tab-navigable)
- Column 3: Unit (e.g., "g/dL")
- Column 4: Reference range (e.g., "13.0 -- 17.0")
- Column 5: Flag (auto-populated: Normal, L, H, CL, CH with colour)

**Footer**: "Save Results" button (Ctrl+S shortcut). Status indicator: "Entered by [Name] at [Time]".

### 7.5 Report Preview

**Layout**: Full-page PDF preview in an iframe or embedded viewer.

**Toolbar** (above preview): "Authorise & Sign" (green, primary), "Reject to Technician" (red, secondary), "Print" (outline), "Send via WhatsApp" (green, with WhatsApp icon -- appears after authorisation).

**Preview**: Rendered PDF showing exactly what the patient will receive -- lab letterhead, patient details, results table with reference ranges, interpretive comments, pathologist signature, QR code.

### 7.6 Billing Screen

**Layout**: Two panels -- invoice on the left, payment recording on the right.

**Left (Invoice)**: Patient name, ordered tests with prices, discount line, GST line, grand total. "Print Invoice" button.

**Right (Payment)**: Amount due (large text). Payment mode selector (Cash, UPI, Card, Net Banking -- large, tappable buttons). Amount received field. "Record Payment" button. Outstanding balance displayed if partial payment.

---

## 8. Responsive Design Strategy

### 8.1 Breakpoints


| Breakpoint | Width     | Target Device                 |
| ---------- | --------- | ----------------------------- |
| `sm`       | >= 640px  | Large smartphones (landscape) |
| `md`       | >= 768px  | Tablets                       |
| `lg`       | >= 1024px | Small laptops, desktops       |
| `xl`       | >= 1280px | Standard desktops             |
| `2xl`      | >= 1536px | Large monitors                |


### 8.2 Layout Strategy by Breakpoint


| Screen         | Mobile (< 768px)                        | Tablet (768--1024px)                | Desktop (1024px+)                    |
| -------------- | --------------------------------------- | ----------------------------------- | ------------------------------------ |
| Dashboard      | Stacked cards, simplified pending list  | 2-column cards, tabbed pending list | 4-column cards, tabbed pending table |
| Registration   | Full-width single column                | Same                                | Centred, max-width 640px             |
| Worklist       | Card list (one card per sample)         | Table with horizontal scroll        | Full table                           |
| Result entry   | Stacked: patient info above, form below | Side panel collapses to header      | Split view (panel + form)            |
| Report preview | Full-screen PDF viewer                  | Same                                | PDF preview with toolbar             |
| Billing        | Stacked: invoice above, payment below   | Side-by-side                        | Side-by-side                         |


### 8.3 Navigation

- **Desktop (1024px+)**: Fixed left sidebar (width: 240px) with lab logo, navigation items with icons + text labels, user info at bottom
- **Tablet (768--1024px)**: Collapsed sidebar (icons only, width: 64px); expands on hover/click
- **Mobile (< 768px)**: Bottom navigation bar with 4--5 key items (Home, Register, Worklist, Reports, More); "More" opens a full-screen menu

---

## 9. Print Design

### 9.1 Report PDF Design Principles

- A4 portrait orientation (210mm x 297mm)
- Margins: 15mm top (for letterhead), 10mm sides, 10mm bottom
- Font: Inter at 10pt (body), 12pt (headings), 8pt (fine print)
- Lab letterhead: logo (left), lab name + address + phone + email (right), coloured header bar (lab's brand colour)
- Patient info block: Name, Age/Gender, Patient ID, Referring Doctor, Collection Date, Report Date
- Results table: Parameter, Result (bold if abnormal), Unit, Reference Range, Flag
- Footer: Pathologist name + signature + registration number, NABL logo (if applicable), QR code (bottom right), page number
- Watermark: "DRAFT" (before authorisation), "AMENDED" (if corrected)

### 9.2 Barcode Label Design

- Size: 50mm x 25mm (standard thermal label)
- Content: Barcode (Code 128, encoding Sample ID), Patient name (truncated to 20 chars), Patient ID, Test name(s), Tube type colour dot, Collection date/time
- Font: 8pt for text, barcode height 10mm
- Printer compatibility: TSC, Zebra, TVS thermal printers via browser print dialog

